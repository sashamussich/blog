/*!CK:71609001!*//*1446471972,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["xVvWy"]); }

__d('FacebarFindPeopleAndPages',['FacebarGlobalOptions','FacebarJSConstants','FacebarStructuredText','FacebarURI','URI','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o={insertInto:function(p,q,r){p=this._cleanQuery(p);var s=this._getInsertionIndex(p,q);if(s>-1){var t=this._createFindPeopleAndPagesResult(p,r);q.splice(s,0,t);}},_getInsertionIndex:function(p,q){if(!p||!h.findPeopleAndPages)return -1;var r=q.some(this._isUserOrPageSuggestion);if(!r)return -1;var s=-1;for(var t=0;t<q.length;t++)if(this._isEntitySuggestion(q[t]))s=t+1;return s;},_isUserOrPageSuggestion:function(p){return p.type==='user'||p.type==='page';},_isEntitySuggestion:function(p){return p.type!==i.keywordType&&p.type!==i.grammarType;},_cleanQuery:function(p){return String(p).trim().replace(/\s+/g,' ').replace(/[\u200E|\u200F|\u202a|\u202b|\u202c]/g,'');},_createFindPeopleAndPagesResult:function(p,q){var r='str/'+p+'/keywords_entities',s=n._("Find all people and pages named \"{query}\"",[n.param('query',p)]);return {type:'grammar',results_set_type:'browse_type_blended',text:p,id:p,uid:p,query_string:p,icon_class:"_207",isSeeMore:true,isPeopleAndPagesSuggestion:true,structure:j.fromString(s),semantic:r,uri:k.getQualifiedURI(new l('/search/'+r)),fromCache:q,tags:{displayedSeeMore:true}};}};f.exports=o;},null);