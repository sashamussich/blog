/*!CK:1774783402!*//*1448251685,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["bpix+"]); }

__d("PagesComposerPostActionsLoggerEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PUBLISH:"publish",SCRAPED:"scraped",UPLOAD:"upload",IMAGE_SELECT:"image_select",IMAGE_UNSELECT_ON_UPLOAD_BAR:"image_unselect_on_upload_bar",IMAGE_UNSELECT_ON_CAROUSEL_CARD:"image_unselect_on_carousel_card",IMAGE_UNSELECT_ON_LPP_CARD:"image_unselect_on_carousel_card",IMAGE_CHANGE_LEFT_RIGHT:"image_change_left_right",IMAGE_DRAG:"image_drag",LPP_DESCRIPTION_EDIT:"lpp_description_edit",CAROUSEL_DESCRIPTION_EDIT:"carousel_description_edit",LPP_TITLE_EDIT:"lpp_title_edit",CAROUSEL_TITLE_EDIT:"carousel_title_edit",CHILD_IMAGES_NUM_INCONSISTENT:"child_images_num_inconsistent",CHILD_IMAGES_LINK_INCONSISTENT:"child_images_link_inconsistent",ATTACHMENT_STYLE_INVALID:"attachment_style_invalid",EDIT_URL:"edit_url",CLICK_UPLOAD_PHOTO_IN_PHOTO_TAB:"click_upload_photo_in_photo_tab",CLICK_UPLOAD_BUTTON_IN_TOOLBAR:"click_upload_button_in_toolbar",DRAG_PHOTO_TO_COMPOSER:"drag_photo_to_composer",CLICK_PHOTO_CAROUSEL_CREATE_TAB:"click_photo_carousel_create_tab",CLICK_SLIDESHOW_CREATE_TAB:"click_slideshow_create_tab",SHOW_PHOTO_CAROUSEL_CREATE_TAB:"show_photo_carousel_create_tab",REMOVE_PHOTO_CAROUSEL_URL_INPUT:"remove_photo_carousel_url_input",CLICK_UPLOAD_PHOTO_OPTION:"click_upload_photo_option",CLICK_PHOTO_ALBUM_OPTION:"click_photo_album_option",PREFILL_SCRAPE_URL:"prefill_scrape_url",UNKNOWN:"unknown"};},null);
__d('ComposerXMentionsInputReset',['DOMQuery','Input'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){var l=h.scry(k.element,'textarea.input')[0];k.instance.reset();i.reset(l);}f.exports=j;},null);
__d('ComposerXPrivacyWidgetReset',['Arbiter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){h.inform('Composer/changedtags',{withTags:[],mention:{},eventTag:false});}f.exports=i;},null);
__d('ComposerXTaggerIconReset',['CSS','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){h.removeClass(k.element,"_1dsa");h.removeClass(k.element,"_1dsb");h.removeClass(k.element,"_509o");}f.exports=j;},null);
__d('PagesComposerActionsLogger',['Banzai'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i='pages_composer_actions',j='actions';function k(m){return {log:function(n,o){o=o?o:j;h.post(i+':'+o,n,m);},create:null};}var l=k();l.create=k;f.exports=l;},null);
__d('KeyboardShortcuts',['KeyEventController','Layer','ModalLayer'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(m,n,o){'use strict';this.key=m;this.handler=n;this.filter=o;this.register();}k.prototype.register=function(){'use strict';this.token=h.registerKey(this.key,this.handler,this.filter);};k.prototype.remove=function(){'use strict';this.token.remove();};var l={_tokens:[[]],register:function(m,n,o){o=o||{};var p=o.allowDefault?n:function(event,t){n.apply(this,arguments);event.prevent();},q=o.baseFilters||[h.defaultFilter],r=function(event,t){for(var u=0,v=q.length;u<v;u++)if(!q[u](event,t))return false;return !o.filter||o.filter(event,t);},s=new k(m,p,r);this._tokens[this._tokens.length-1].push(s);return s;},init:function(){i.subscribe('show',(function(m,n){if(n.hasBehavior(j))this.pushLayer();}).bind(this));i.subscribe('hide',(function(m,n){if(n.hasBehavior(j))this.popLayer();}).bind(this));},pushLayer:function(){var m=this._tokens[this._tokens.length-1];m&&m.forEach(function(n){n.remove();});this._tokens.push([]);},popLayer:function(){var m=this._tokens.length-1;if(m<0)return;var n=this._tokens[m];n.forEach(function(p){p.remove();});this._tokens.pop();var o=this._tokens[m-1];o&&o.forEach(function(p){p.register();});}};l.init();f.exports=l;},null);
__d('LikeConfirmer',['AsyncDialog','AsyncRequest'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=false,k=false,l={likeContent:function(){},like:function(m,n){this.likeContent=m;if(k)return;if(j){this.likeContent();}else{var o=new i().setURI('/like/confirm_like.php').setRelativeTo(n);h.send(o,(function(p){k=true;p.subscribe('hide',this.onCloseLikeConfirmDialog.bind(this));p.setCausalElement(n);}).bind(this));}return false;},isShowingConfirmation:function(){return k;},onCloseLikeConfirmDialog:function(){k=false;},likeSkipConfirmation:function(m){j=m;this.likeContent();}};f.exports=l;},null);
__d('FeedBaseKeyboardController',['$','AccessibilityLogger','Arbiter','AsyncDialog','AsyncRequest','Banzai','BanzaiODS','BanzaiNectar','CSS','DOM','DOMScroll','Event','Focus','KeyboardShortcuts','LikeConfirmer','NavigationMessage','Parent','ReactComposerEvents','ReactComposerIDGenerator','Run','Scroll','SubscriptionsHandler','UITinyViewportAction','Vector','ViewportBounds','csx','emptyFunction','ge','getActiveElement','isAsyncScrollQuery','isElementNode','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma){if(c.__markCompiled)c.__markCompiled();var na;function oa(){na=da.isTiny()?0:h('pagelet_bluebar').offsetTop+h('pagelet_bluebar').offsetHeight;}setTimeout(oa,0);s.listen(window,'resize',ma(oa));function pa(qa){'use strict';this.root=qa;this.init();}pa.prototype.getStories=function(){'use strict';};pa.prototype.getParentStory=function(qa){'use strict';};pa.prototype.isStory=function(qa){'use strict';};pa.prototype.isHoldoutStory=function(qa){'use strict';};pa.prototype.getHeadline=function(qa){'use strict';};pa.prototype.getPreviousStory=function(qa){'use strict';};pa.prototype.getNextStory=function(qa){'use strict';};pa.prototype.setSelected=function(qa,ra){'use strict';};pa.prototype.clickLike=function(){'use strict';};pa.prototype.clickComment=function(){'use strict';};pa.prototype.clickShare=function(){'use strict';};pa.prototype.clickSeeMore=function(){'use strict';};pa.prototype.clickLeft=function(){'use strict';};pa.prototype.clickRight=function(){'use strict';};pa.prototype.openAttachment=function(){'use strict';};pa.prototype.focusComposer=function(){'use strict';var qa=ia('pagelet_composer');if(!qa)qa=ia('pagelet_group_composer');if(qa){var ra=q.scry(qa,'textarea')[0];if(ra){t.set(ra);r.scrollToTop(true);}else{var sa=q.scry(qa,"div._36bx")[0],ta=sa&&sa.id;if(z.isComposerID(ta)){j.inform(y.ACTIVATE_ATTACHMENT+sa.id);r.scrollToTop(true);}}}};pa.prototype.getScrollOffset=function(){'use strict';return 10;};pa.prototype.getAnimationLength=function(qa){'use strict';return Math.min(Math.abs(ea.getElementPosition(qa).y-fa.getTop()-ba.getTop(document.body)),400);};pa.prototype.findTop=function(){'use strict';var qa=this.getStories();for(var ra=0;ra<qa.length;ra++)if(ea.getElementPosition(qa[ra]).y>ea.getScrollPosition().y)return qa[ra];};pa.prototype.onLeave=function(){'use strict';this.subscriptions&&this.subscriptions.release();};pa.prototype.getHelpDialogRequest=function(){'use strict';if(!this.dialogRequest){this.dialogRequest=new l('/ajax/keyboard_shortcuts');this.dialogRequest.setReadOnly(true);}else if(this.dialogRequest.transport)return null;return this.dialogRequest;};pa.prototype.init=function(){'use strict';aa.onLeave(this.onLeave.bind(this));this.subscriptions=new ca();this.subscriptions.addSubscriptions(j.subscribe(w.NAVIGATION_BEGIN,this.onLeave.bind(this)),u.register('j',this.vert.bind(this,1)),u.register('k',this.vert.bind(this,-1)),u.register('l',(function(){var qa=this.getParentStory(ja());v.like((function(){this.setSelected(qa,false);this.clickLike();}).bind(this),ja());}).bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('c',this.clickComment.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('o',this.openAttachment.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('p',this.focusComposer.bind(this)),u.register('s',this.clickShare.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('SLASH',(function(){var qa=this.getHelpDialogRequest();if(qa){qa.setRelativeTo(ja());k.send(qa);}}).bind(this),{filter:function(event,qa){return event.getModifiers().shift;}}),u.register('RETURN',this.clickSeeMore.bind(this),{filter:this.hasExpandableStoryInFocus.bind(this)}),u.register('LEFT',this.clickLeft.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('RIGHT',this.clickRight.bind(this),{filter:this.hasActiveStory.bind(this)}),s.listen(this.root,'focusin',(function(event){var qa=event.getTarget();if(!this.isStory(qa)){var ra=qa.nodeName=='OBJECT'||qa.nodeName=='EMBED'||qa.nodeName=='IFRAME',sa=this.getParentStory(qa),ta=this.selected;if(sa&&!ra&&ta){this.setSelected(sa,true);this.selected=sa;}}}).bind(this)));};pa.prototype.hasActiveStory=function(event,qa){'use strict';var ra=ja();return !(ra&&p.shown(ra))||!!this.getParentStory(ra);};pa.prototype.hasExpandableStoryInFocus=function(event,qa){'use strict';var ra=ja();return !!(ra.getElementsByClassName('text_exposed_root').length&&!ra.getElementsByClassName('text_exposed_root text_exposed').length);};pa.prototype.clickElement=function(qa,ra){'use strict';if(!qa)return;var sa;for(var ta=1,ua=arguments.length;ta<ua;ta++){sa=q.scry(qa,arguments[ta])[0];if(sa&&p.shown(sa)){sa.click();return;}}};pa.prototype.click=function(qa){'use strict';this.clickElement(this.selected,qa);};pa.prototype.vert=function(qa){'use strict';if(!this.scrollInitialized){this.subscriptions.addSubscriptions(s.listen(document,'scroll',(function(){if(this.selected&&!this.scrolling)this.setSelected(null,false);}).bind(this)));this.scrollInitialized=true;}var ra,sa;if(this.selected){if(m.isEnabled('kbshortcuts_feed')){sa=qa>0?'kbshortcuts.scroll_down':'kbshortcuts.scroll_up';n.bumpEntityKey('kbshortcuts_feed',sa);o.log('feed_scroll',sa,{});}i.logJKKey();if(this.selected.id=='pagelet_composer'){ra=qa>0?this.getStories()[0]:null;if(this.isHoldoutStory(ra))ra=this.getPreviousStory(ra);}else if(qa===0){ra=this.selected;}else ra=qa>0?this.getNextStory(this.selected):this.getPreviousStory(this.selected)||ia('pagelet_composer');if(!ra){return;}else if(!la(ra)){p.removeClass(this.selected,'selectedStorySimple');this.selected=ra;return this.vert(qa);}}if(!ra||x.byClass(ra,'hidden_elem')||!q.contains(document,ra)){ra=this.findTop();if(ra&&qa<0)ra=this.getPreviousStory(ra);if(this.isHoldoutStory(ra))ra=this.getPreviousStory(ra);}if(!ra)return;this.anim&&this.anim.stop();var ta=Date.now()-(this.lastScroll||0)>30;if(qa!==0)var ua=this.setFocused.bind(this,ra);if(ka()){ta=false;ua();ua=ha;}this.scrolling=true;this.scrollingTimer&&window.clearTimeout(this.scrollingTimer);this.anim=r.scrollTo(ra,ta?this.getAnimationLength(ra):0,false,ea.getViewportDimensions().y-na-this.getScrollOffset(),0,(function(){this.scrollingTimer=window.setTimeout((function(){this.scrolling=false;}).bind(this),300);var va=ea.getScrollPosition();ua();if(va.distanceTo(ea.getScrollPosition())!==0)r.scrollTo(va,0);}).bind(this));this.setSelected(ra,true);this.lastScroll=Date.now();};pa.prototype.isInteractive=function(qa){'use strict';return qa.nodeName=='INPUT'||qa.nodeName=='BUTTON'||qa.nodeName=='TEXTAREA'||qa.nodeName=='A'||!!x.byAttribute(qa,'contenteditable');};pa.prototype.setTabindexOnHeadline=function(qa,ra){'use strict';if(this.isStory(qa)){var sa=this.getHeadline(qa);if(sa)sa.tabIndex=ra;}};pa.prototype.setTabindexOnStory=function(qa,ra){'use strict';if(this.isStory(qa))qa.tabIndex=ra;};pa.prototype.setFocused=function(qa){'use strict';if(this.isStory(qa))t.setWithoutOutline(qa);};f.exports=pa;},null);
__d('BookmarkFeedSorter',['Run'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j={init:function(k){i=k;h.onLeave(function(){i=null;});},setChecked:function(k){if(i)i.setValue(k);}};f.exports=j;},null);
__d("XFamilyMentionsNUXDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/family_mentions\/nux_dialog\/",{__asyncDialog:{type:"Int"}});},null);
__d('FamilyRelationshipMentions',['AsyncDialog','AsyncRequest','FamilyMentionsData','XFamilyMentionsNUXDialogController'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=(function(){var m={},n=false;m.shouldShowNUX=function(o){if(j.hasAcceptedNUX||n)return false;var p=o.family_names;if(p==undefined)return false;for(var q=0;q<p.length;q++)if(p[q]==o.text)return true;return false;};m.showNUX=function(o,p){var q=k.getURIBuilder().getURI();h.send(new i(q),function(r){r.subscribe('cancel',function(){o.text=o.default_name;new i().setURI('/ajax/family_mentions/deny_nux').send();p(o);});r.subscribe('confirm',function(){n=true;new i().setURI('/ajax/family_mentions/confirm_nux').send();p(o);r.finishHide();});});};return m;})();f.exports=l;},null);
__d('FbFeedKeyboardController',['CSS','DOM','DOMQuery','FeedBaseKeyboardController','Focus','JSXDOM','Parent','FbFeedHighlight','csx','cx','ge','getActiveElement','isElementNode'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v;function w(z){if(z.previousElementSibling)return z.previousElementSibling;z=z.previousSibling;while(z&&!t(z))z=z.previousSibling;return z||null;}function x(z){if(z.nextElementSibling)return z.nextElementSibling;z=z.nextSibling;while(z&&!t(z))z=z.nextSibling;return z||null;}u=babelHelpers.inherits(y,k);v=u&&u.prototype;y.prototype.getStories=function(z){'use strict';return j.scry(z||this.root,"._5jmm");};y.prototype.isHoldoutStory=function(z){'use strict';return !!z&&h.hasClass(z,'holdoutAdStory');};y.prototype.isRelevantStory=function(z){'use strict';return t(z)&&!this.isHoldoutStory(z);};y.prototype.isStory=function(z){'use strict';return h.hasClass(z,"_5jmm");};y.prototype.clickLike=function(){'use strict';var z=this.$FbFeedKeyboardController1();this.clickElement(z,'.UFILikeLink');if(z!==this.selected)return null;var aa=this.getParentStory(s());if(aa){var ba=j.scry(aa,'.UFILikeLink');for(var ca=0;ca<ba.length;ca++)if(!h.hasClass(ba[ca],'accessible_elem'))l.setWithoutOutline(ba[ca]);}};y.prototype.clickComment=function(){'use strict';this.clickElement(this.$FbFeedKeyboardController1(),'.comment_link');};y.prototype.clickShare=function(){'use strict';this.click('.share_action_link');};y.prototype.clickSeeMore=function(){'use strict';this.click('.see_more_link');};y.prototype.clickLeft=function(){'use strict';this.click("._1mri");};y.prototype.clickRight=function(){'use strict';this.click("._2fu-");};y.prototype.openAttachment=function(){'use strict';this.click("._5dec","a._52c6","._4-eo",'.uiVideoThumb');};y.prototype.getHeadline=function(z){'use strict';return j.scry(z,"h5._5pbw")[0];};y.prototype.$FbFeedKeyboardController2=function(z){'use strict';var aa=n.byClass(z,"_5pcb"),ba=r('pagelet_soft_permalink_posts');return !!(aa||ba&&i.contains(ba,z));};y.prototype.getPreviousSibling=function(z){'use strict';var aa=w(z);if(aa&&this.getParentStory(aa))return aa;aa=null;if(this.$FbFeedKeyboardController2(z)){var ba=this.getStories(this.root),ca=ba.indexOf(z);while(ca>-1){if(ca===0){aa=r('pagelet_composer');aa=aa&&n.byClass(aa,"_5jmm");}else if(ca>0){aa=ba[ca-1];if(aa.offsetHeight>0)break;}ca--;}}return aa||this.selected;};y.prototype.getPreviousStory=function(z){'use strict';var aa=this.getPreviousSibling(z);while(aa&&!this.isStory(aa))aa=this.getPreviousSibling(aa);return aa;};y.prototype.getParentStory=function(z){'use strict';return n.byClass(z,"_5jmm");};y.prototype.getNextSibling=function(z){'use strict';var aa=x(z);if(aa&&this.getParentStory(aa))return aa;aa=null;if(this.$FbFeedKeyboardController2(z)){var ba=this.getStories(this.root),ca=ba.indexOf(z);if(ca>-1){aa=ba[++ca];while(aa&&aa.offsetHeight===0)aa=ba[++ca];}}else if(r('pagelet_composer',z))aa=j.scry(document,"div._5pcb ._5jmm")[0];return aa||this.selected;};y.prototype.getNextStory=function(z){'use strict';var aa=this.getNextSibling(z);while(aa&&!this.isStory(aa))aa=this.getNextSibling(aa);return aa;};y.prototype.setSelected=function(z,aa){'use strict';if(z){var ba="_5qdu",ca=j.scry(z,"._5qdu");if(!ca.length&&aa)i.prependContent(z,m.div({className:ba}));}if(aa){this.selected&&this.setTabindexOnStory(this.selected,'-1');this.selected&&h.removeClass(this.selected,"_5qdv");this.selected=z;z&&this.setTabindexOnStory(z,'0');z&&h.addClass(z,"_5qdv");o.highlightSingle(z);}};y.prototype.$FbFeedKeyboardController1=function(){'use strict';var z=i.scry(this.selected,"._1qch");if(z.length>0)return i.scry(this.selected,"._3el7")[0];return this.selected;};y.init=function(z){'use strict';new y(z);};function y(){'use strict';u.apply(this,arguments);}f.exports=y;},null);
__d('FbFeedViewportTracking',['Arbiter','LitestandMessages','LitestandStream','StreamViewportTracking','csx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;m=babelHelpers.inherits(o,k);n=m&&m.prototype;o.prototype.initSubscriptions=function(){'use strict';this.subscriptions.addSubscriptions(h.subscribe([i.STORIES_INSERTED],this.invalidateAllStoriesCache.bind(this)),h.subscribe(i.LEAVE_HOME,this.updateTimeTrackingData.bind(this,true)));};o.prototype.getStorySelector=function(){'use strict';return "._5jmm";};o.prototype.getStream=function(){'use strict';return j.getStreamRoot();};o.prototype.getSessionID=function(){'use strict';return j.getFeedStreamID();};o.init=function(p){'use strict';o.instance=new o();o.instance.init(p);};o.getInstance=function(){'use strict';return o.instance;};function o(){'use strict';m.apply(this,arguments);}f.exports=o;},null);
__d('MentionsTypeaheadAreaView',['ContextualTypeaheadView','FamilyRelationshipMentions','Parent'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,h);l=k&&k.prototype;m.prototype.getContext=function(){'use strict';return j.byClass(this.element,'uiMentionsInput');};m.prototype.shouldValidateTypeaheadSelection=function(n){'use strict';return i.shouldShowNUX(n);};m.prototype.validateTypeaheadSelection=function(n,o){'use strict';i.showNUX(n,o);};function m(){'use strict';k.apply(this,arguments);}f.exports=m;},null);