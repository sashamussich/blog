/*!CK:1883300017!*//*1448252244,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["+10Xs"]); }

__d("ProfileDOMID",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ABOVE_HEADER_TIMELINE:"pagelet_above_header_timeline",ABOVE_HEADER_TIMELINE_PLACEHOLDER:"above_header_timeline_placeholder",COVER:"fbProfileCover",MAIN_COLUMN:"pagelet_main_column",MAIN_COLUMN_PERSONAL:"pagelet_main_column_personal",MAIN_COLUMN_PERSONAL_OTHER:"pagelet_main_column_personal_other",RIGHT_SIDEBAR:"pagelet_right_sidebar",TAB_LOAD_INDICATOR:"tab_load_indicator",TOP_SECTION:"timeline_top_section",PREFIX_MAIN_COLUMN_PERSONAL:"pagelet_main_column_personal_"};},null);
__d("ProfileOverviewDOMID",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MEDLEY_ROOT:"timeline-medley",PREFIX_APP_COLLECTION:"pagelet_timeline_app_collection_",PREFIX_COLLECTION_WRAPPER:"collection_wrapper_",PREFIX_MEDLEY:"pagelet_timeline_medley_",PREFIX_MEDLEY_HEADER:"medley_header_",PREFIX_RECOMMENDATION:"pagelet_recommendation_"};},null);
__d("ProfileTabConst",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ALL_ACTIVITY:"allactivity",APPROVAL:"approve",APPS:"apps",BOXES:"box_3",COMMERCE:"shop",DEALS:"deals",DRAFT_NOTES:"notes_drafts",EVENTS:"events",FAVORITES:"favorites",FOLLOWERS:"followers",FOLLOWING:"following",FRIENDS:"friends",FRIENDS_MUTUAL:"friends_mutual",GROUPS:"groups",GROUPS_MUTUAL:"groups_mutual",INFO:"info",LIKES:"likes",LOCATIONS:"locations",MAP:"map",MEMORIAL_CONTACT:"legacy_contact",NEARBY:"nearby",NOTES:"notes",OVERVIEW:"about",PAST_EVENTS:"pe",PHOTOS:"photos",PHOTOS_ALBUM:"media_set",PHOTOS_ALBUMS:"photos_albums",PHOTOS_STREAM:"photos_stream",PHOTOS_SYNCED:"photos_synced",POSTS:"posts",POSTS_OTHERS:"posts_to_page",RESUME:"resume",REVIEWS:"reviews",SAVED_FOR_LATER:"saved",SPORTS:"sports",TAGGED_NOTES:"notes_tagged",TIMELINE:"timeline",VIDEOS:"videos",WALL:"wall",WALL_ADMIN:"wall_admin",WIKIPEDIA:"wiki",PAGE_GETTING_STARTED:"page_getting_started",PAGE_MAP:"page_map",PAGE_MENU:"menu",PAGE_BOOK_PREVIEW:"book_preview",PAGE_PRODUCTS:"products",PAGE_SERVICES:"services",PAGES_CONTENT_TAB:"content_tab",PAGE_FAN_QUESTIONS:"questions",OG_APP_URL_PREFIX:"app_",OG_APPID_PREFIX:"og_app_",OG_NAMESPACE_PREFIX:"og_ns_",OG_BOOKS:"books",OG_FITNESS:"fitness",OG_GAMES:"games",OG_MOVIES:"movies",OG_MUSIC:"music",OG_NEWS:"news",OG_TV_SHOWS:"tv",OG_VIDEO:"video"};},null);
__d("TimelineDOMID",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER_CONTAINER:"timeline_composer_container",MEMORIES:"pagelet_timeline_memories",RECENT:"pagelet_timeline_recent",RECENT_CAPSULE_CONTAINER:"recent_capsule_container",STICKY_HEADER:"timeline_sticky_header",TAB_CONTENT:"timeline_tab_content",TAB_CONTENT_EXTRA:"timeline_tab_content_extra",UNDER_COMPOSER:"timeline_under_composer",UNSEEN_STORIES_INDICATOR:"recent_unseen_stories_indicator",PREFIX_MONTH_ALL:"pagelet_timeline_month_all_",PREFIX_MONTH_EXPAND:"pagelet_timeline_month_expand_",PREFIX_YEAR:"pagelet_timeline_year_",PREFIX_YEAR_EXPAND:"pagelet_timeline_year_expand_",SUFFIX_MORE_PAGER:"_more_pager"};},null);
__d("TimelineScrollJankEventTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BOTTOM_OUT:"bottom_out",JUMP_TO_NOWHERE:"jump_to_nowhere",UNBALANCED_COLUMNS:"unbalanced_columns"};},null);
__d("TimelineScrubberKey",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MONTH:"month",RECENT_ACTIVITY:"recent",YEAR:"year"};},null);
__d('ProfileTimelineUITypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(){this.clear();}k.prototype.log=function(){i.log('logger:ProfileTimelineUILoggerConfig',this.$ProfileTimelineUITypedLogger1,h.BASIC);};k.prototype.logVital=function(){i.log('logger:ProfileTimelineUILoggerConfig',this.$ProfileTimelineUITypedLogger1,h.VITAL);};k.prototype.clear=function(){this.$ProfileTimelineUITypedLogger1={};return this;};k.prototype.updateData=function(l){this.$ProfileTimelineUITypedLogger1=babelHelpers._extends({},this.$ProfileTimelineUITypedLogger1,l);return this;};k.prototype.setEvent=function(l){this.$ProfileTimelineUITypedLogger1.event=l;return this;};k.prototype.setEventMetadata=function(l){this.$ProfileTimelineUITypedLogger1.event_metadata=i.serializeMap(l);return this;};k.prototype.setProfileID=function(l){this.$ProfileTimelineUITypedLogger1.profile_id=l;return this;};k.prototype.setRelationshipType=function(l){this.$ProfileTimelineUITypedLogger1.relationship_type=l;return this;};k.prototype.setUIComponent=function(l){this.$ProfileTimelineUITypedLogger1.ui_component=l;return this;};k.prototype.setVC=function(l){this.$ProfileTimelineUITypedLogger1.vc=l;return this;};f.exports=k;},null);
__d('ProfileTabUtils',['ProfileScrubberConfig','ProfileTabConst'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={isActivityLogTab:function(k){return (k===i.ALL_ACTIVITY||k===i.APPROVAL);},isOverviewTab:function(k){return (k===i.INFO||k===i.OVERVIEW);},isTimelineTab:function(k){return (!k||k===i.TIMELINE||k===i.WALL);},tabHasFixedAds:function(k){return (!j.isTimelineTab(k)||!!h.noScrubberOnTimeline);},tabHasScrubber:function(k){if(j.isTimelineTab(k))return !h.noScrubberOnTimeline;return j.isActivityLogTab(k);}};j.tabHasStickyHeader=j.isTimelineTab;f.exports=j;},null);
__d('ProfileNavRef',['LinkController','Parent','URI'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k='pnref',l='data-'+k,m=false;function n(o){var p=[];o=i.byAttribute(o,l);while(o){p.unshift(o.getAttribute(l));o=i.byAttribute(o.parentNode,l);}return p.join('.');}g.track=function(){if(m)return;m=true;h.registerHandler(function(o){var p=n(o);if(p)o.href=new j(o.href).addQueryData(k,p).toString();});};},null);
__d('TimelineComponentKeys',['ImmutableObject'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=new h({ADS:'ads',ASYNC_NAV:'async_nav',CONTENT:'content',COVER_NAV:'cover_nav',ESCAPE_HATCH:'escape_hatch',LOGGING:'logging',NAV:'nav',SCRUBBER:'scrubber',STICKY_COLUMN:'sticky_column',STICKY_HEADER:'sticky_header',STICKY_HEADER_NAV:'sticky_header_nav'});f.exports=i;},null);
__d('TimelineConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={DS_LOADED:'timeline-capsule-loaded',DS_COLUMN_HEIGHT_DIFFERENTIAL:'timeline-column-diff-height',SCROLL_TO_OFFSET:100,SCRUBBER_DEFAULT_OFFSET:38,SECTION_EXPAND:'TimelineConstants/sectionExpand',SECTION_LOADING:'TimelineConstants/sectionLoading',SECTION_LOADED:'TimelineConstants/sectionLoaded',SECTION_FULLY_LOADED:'TimelineConstants/sectionFullyLoaded',SECTION_REGISTERED:'TimelineConstants/sectionRegistered',UNIT_SEGMENT_LOADED:'TimelineConstants/unitSegmentLoaded'};f.exports=h;},null);
__d('TimelineLegacySections',['CSS','DOM','fbt','getElementText'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={},m={},n=false,o=[],p={},q={get:function(r){return m.hasOwnProperty(r)?m[r]:null;},getAll:function(){return m;},remove:function(r){for(var s=0;s<o.length;s++)if(o[s]===r){o[s]=null;break;}delete m[r];},removeAll:function(){m={};},set:function(r,s){m[r]=s;},addOnVisible:function(r,s){p[r]=s;},destroyOnVisible:function(r){var s=p[r];if(s){s.remove();i.remove(s.getElement());}p[r]=null;},removeOnVisible:function(r){var s=p[r];if(s)s.remove();},removeAllOnVisibles:function(){Object.keys(p).forEach((function(r){return this.removeOnVisible(r);}).bind(this));},getOnVisible:function(r){return p[r];},setMainSectionOrder:function(r,s){o[s]=r;},getMainSectionOrder:function(){return o;},addLoadPagelet:function(r,s){l[r]=s;},cancelLoadPagelet:function(r){if(l[r])l[r].cancel();},cancelLoadPagelets:function(){Object.keys(l).forEach((function(r){return this.cancelLoadPagelet(r);}).bind(this));l={};},shouldForceNoFriendActivity:function(){return n;},forceNoFriendActivity:function(){n=true;},collapsePlaceHolderHeaders:function(){var r,s,t=false;for(var u=0;u<o.length;u++){var v=o[u];if(!v)continue;var w=q.get(v);if(!w)continue;if(w.canScrollLoad()||w.isLoaded()){if(!w.isLoaded()){h.removeClass(w.getNode(),'fbTimelineTimePeriodSuppressed');h.addClass(w.getNode(),'fbTimelineTimePeriodUnexpanded');}if(r&&s){this.combineSectionHeaders(r,s);if(t)r.deactivateScrollLoad();t=true;}r=null;s=null;continue;}else if(r){s=w;w.deactivateScrollLoad();}else{r=w;s=w;if(t)w.activateScrollLoad();}h.removeClass(w.getNode(),'fbTimelineTimePeriodSuppressed');h.addClass(w.getNode(),'fbTimelineTimePeriodUnexpanded');}},combineSectionHeaders:function(r,s){h.removeClass(s.getNode(),'fbTimelineTimePeriodUnexpanded');h.addClass(s.getNode(),'fbTimelineTimePeriodSuppressed');var t=i.find(r.getNode(),'span.sectionLabel'),u=i.find(s.getNode(),'span.sectionLabel');if(!u.getAttribute('data-original-label'))u.setAttribute('data-original-label',k(u));if(t.getAttribute('data-month')&&u.getAttribute('data-month')&&t.getAttribute('data-year')==u.getAttribute('data-year')){i.setContent(u,j._("Show {month1} - {month2} {year}",[j.param('month1',u.getAttribute('data-month')),j.param('month2',t.getAttribute('data-month')),j.param('year',t.getAttribute('data-year'))]));}else if(t.getAttribute('data-year')!==u.getAttribute('data-year')){i.setContent(u,j._("Show {year1} - {year2}",[j.param('year1',u.getAttribute('data-year')),j.param('year2',t.getAttribute('data-year'))]));}else i.setContent(u,j._("Show {year}",[j.param('year',u.getAttribute('data-year'))]));}};f.exports=q;},null);
__d('TimelineScrollJankLogger',['Banzai','BanzaiLogger','TimelineScrollJankEventTypes','debounceCore','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m='TimelineScrollJankLoggerConfig',n='timeline_scroll_jank',o=50;function p(event,s,t,u){i.log(m,{event:event,profileid:s,currentsection:u,sessionid:t});}var q=h.isEnabled(n)?k(p,o):l,r={logBottomOut:q.bind(null,j.BOTTOM_OUT)};f.exports=r;},null);
__d('TimelineController',['Arbiter','BlueBar','CSS','DataStore','DOMQuery','Event','ProfileDOMID','ProfileNavRef','ProfileTabConst','ProfileTabUtils','Run','ScrollingPager','TidyArbiter','TimelineComponentKeys','TimelineConstants','TimelineLegacySections','TimelineScrollJankLogger','TimelineScrubberKey','UITinyViewportAction','Vector','ViewportBounds','$','forEachObject','ge','queryThenMutateDOM','randomInt','tidyEvent'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){if(c.__markCompiled)c.__markCompiled();var ia=358,ja=48,ka=740,la=1285,ma=5,na='top',oa='paddingTop',pa='paddingTop',qa=null,ra=false,sa=null,ta=null,ua,va,wa={},xa={},ya=[],za=null,ab=false,bb=false,cb=false,db=0,eb=aa.getViewportDimensions(),fb=0,gb=false,hb=false,ib=false;function jb(wb,xb,yb){yb=yb||[];if(wa[wb])return wa[wb][xb].apply(wa[wb],yb);xa[wb]=xa[wb]||{};xa[wb][xb]=yb;return false;}function kb(){if(gb)gb=ob(ea('rightCol'),pa,vb.getCurrentScrubber());if(hb)hb=ob(ca(n.ABOVE_HEADER_TIMELINE),na);if(ib)ib=ob(i.getBar(),oa);}function lb(){db=aa.getScrollPosition();var wb=db.y+eb.y,xb=aa.getDocumentDimensions().y-wb;if(xb<ma)x.logBottomOut(sa,ua);}function mb(){var wb=fb===0||db.y>=fb;kb();if(q.tabHasStickyHeader(qa))jb(u.STICKY_HEADER,'toggle',[wb]);jb(u.CONTENT,'checkCurrentSectionChange');}function nb(){fa(lb,mb,'TimelineController/scrollListener');}function ob(wb,xb,yb){if(!wb)return false;if(db.y<=0){pb(wb,xb);return false;}if(yb&&j.hasClass(yb.getRoot(),'fixed_elem')){pb(wb,xb);return false;}var zb=parseInt(wb.style[xb],10)||0;if(db.y<zb){j.addClass(wb,'timeline_fixed');wb.style[xb]=db.y+'px';}else j.removeClass(wb,'timeline_fixed');return true;}function pb(wb,xb){wb.style[xb]='0px';j.removeClass(wb,'timeline_fixed');}function qb(){eb=aa.getViewportDimensions();vb.shouldShowWideAds();}function rb(){fa(qb,function(){jb(u.ADS,'adjustAdsType',[ab]);jb(u.ADS,'adjustAdsToFit');jb(u.STICKY_HEADER_NAV,'adjustMenuHeights');},'TimelineController/resize');}function sb(wb,xb){if(wb==='sidebar/initialized')cb=true;jb(u.ADS,'adjustAdsType',[vb.shouldShowWideAds()]);}function tb(event,wb){var xb=aa.getScrollPosition();wb=Math.min(wb,xb.y);var yb=ea('rightCol');if(yb){yb.style[pa]=wb+'px';gb=true;}var zb=ca(n.ABOVE_HEADER_TIMELINE);if(zb.firstChild){var ac=ca(n.ABOVE_HEADER_TIMELINE_PLACEHOLDER);ac.style.height=zb.offsetHeight+'px';zb.style[na]=wb+'px';hb=true;}ib=z.isTinyHeight();if(ib)i.getBar().style[oa]=wb+'px';h.inform('reflow');}function ub(){while(ya.length)ya.pop().remove();da(wa,function(xb,yb){xb.reset&&xb.reset();});va.unsubscribe();va=null;qa=null;sa=null;ua=null;wa={};xa={};za=null;cb=false;ra=false;fb=0;hb=false;if(gb){var wb=ea('rightCol');if(wb)pb(wb,pa);}gb=false;if(ib){pb(i.getBar(),oa);ib=false;}k.purge(v.DS_LOADED);k.purge(v.DS_COLUMN_HEIGHT_DIFFERENTIAL);}var vb={init:function(wb,xb,yb){if(ra)return;if(q.isTimelineTab(xb))xb=p.TIMELINE;ra=true;sa=wb;ua=ga(Number.MAX_SAFE_INTEGER).toString();bb=yb.is_rhc_redesign;ta=yb.relationship_type;ya.push(m.listen(window,'scroll',nb),m.listen(window,'resize',rb));va=h.subscribe(['sidebar/initialized','sidebar/show','sidebar/hide','minisidebar/show'],sb);ha(t.subscribe('TimelineCover/coverCollapsed',tb));if(yb.track_profile_nav_ref)o.track();r.onLeave(ub);vb.registerCurrentKey(xb);var zb='#'+y.WAY_BACK;if(window.location.hash===zb)var ac=h.subscribe(v.SECTION_FULLY_LOADED,function(){jb(u.CONTENT,'navigateToSection',[y.WAY_BACK]);ac.unsubscribe();});},setAdsTracking:function(wb){jb(u.ADS,'start',[wb]);},registerCurrentKey:function(wb){qa=wb;za=wb!==p.MAP&&aa.getViewportDimensions().y<ka&&q.tabHasScrubber(wb);za=za||i.getBar().offsetTop;jb(u.ADS,'setShortMode',[za]);jb(u.ADS,'updateCurrentKey',[wb]);jb(u.ADS,'adjustAdsToFit');jb(u.COVER_NAV,'handleTabChange',[wb]);jb(u.SCRUBBER,'handleTabChange',[wb]);jb(u.ESCAPE_HATCH,'handleTabChange',[wb]);jb(u.STICKY_COLUMN,'adjust');fb=q.isTimelineTab(wb)?ia-ja:0;jb(u.STICKY_HEADER,'handleTabChange',[wb]);nb();},getProfileID:function(){return sa;},getRelationshipType:function(){return ta;},getCurrentKey:function(){return qa;},getCurrentScrubber:function(){return wa[u.SCRUBBER];},getCurrentStickyHeaderNav:function(){return wa[u.STICKY_HEADER_NAV];},scrubberHasLoaded:function(wb){j.conditionClass(wb.getRoot(),'fixed_elem',!za);jb(u.ADS,'registerScrubber',[wb]);},scrubberHasChangedState:function(){jb(u.ADS,'adjustAdsToFit');},scrubberWasClicked:function(wb){jb(u.LOGGING,'logScrubberClick',[wb]);},stickyHeaderNavWasClicked:function(wb){jb(u.LOGGING,'logStickyHeaderNavClick',[wb]);},sectionHasChanged:function(wb,xb){var yb=[wb,xb];jb(u.STICKY_HEADER_NAV,'updateSection',yb);jb(u.SCRUBBER,'updateSection',yb);jb(u.ADS,'loadAdsIfEnoughTimePassed');jb(u.LOGGING,'logSectionChange',yb);},navigateToSection:function(wb){jb(u.CONTENT,'navigateToSection',[wb]);},shouldShowWideAds:function(){if(!cb||bb){ab=false;}else{var wb=la+ba.getRight()+ba.getLeft();ab=aa.getViewportDimensions().x>=wb;}return ab;},sidebarInitialized:function(){return cb;},adjustStickyHeaderWidth:function(){jb(u.STICKY_HEADER,'adjustWidth');},hideStickyHeaderNavSectionMenu:function(){jb(u.STICKY_HEADER_NAV,'hideSectionMenu');},register:function(wb,xb){wa[wb]=xb;if(xa[wb]){da(xa[wb],function(yb,zb){jb(wb,zb,yb);});delete xa[wb];}},adjustScrollingPagerBuffer:function(wb,xb){var yb=k.get(v.DS_COLUMN_HEIGHT_DIFFERENTIAL,xb);if(yb){var zb=s.getInstance(wb);zb&&zb.setBuffer(zb.getBuffer()+Math.abs(yb));}},runOnceWhenSectionFullyLoaded:function(wb,xb,yb){var zb=w.get(xb),ac=false;if(zb){var bc=l.scry(zb.getNode(),'.fbTimelineCapsule');ac=bc.some(function(dc){var ec=k.get(v.DS_LOADED,dc.id);if(parseInt(ec,10)>=parseInt(yb,10)){wb();return true;}});}if(!ac)var cc=h.subscribe(v.SECTION_FULLY_LOADED,function(dc,ec){if(ec.scrubberKey===xb&&ec.pageIndex===yb){wb();cc.unsubscribe();}});}};f.exports=vb;},null);
__d('ProfileTimelineUILogger',['Banzai','ProfileTimelineUITypedLogger','TimelineController'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k='profile_timeline_ui';function l(event,n,o){var p=j.getProfileID(),q=j.getRelationshipType();if(h.isEnabled(k)&&!!p&&!!q)new i().setEvent(event).setUIComponent(n).setProfileID(p).setRelationshipType(q).setEventMetadata(o).log();}var m={logCoverNavItemClick:function(n){l('click','cover_nav_item',{tab_key:n});},logCoverNavMoreItemClick:function(n){l('click','cover_nav_more_item',{tab_key:n});},logScrubberClick:function(n){l('click','scrubber',{section_key:n});},logSectionExpanderClick:function(n){l('click','section_expander',{section_key:n});},logStickyHeaderImpression:function(){l('view','sticky_header',{});},logStickyHeaderNavItemClick:function(n){l('click','sticky_header_nav_item',{tab_key:n});},logStickyHeaderScrubberClick:function(n){l('click','sticky_header_scrubber',{section_key:n});}};f.exports=m;},null);
__d('TimelineSection',['Arbiter','CSS','DOM','Parent','ScrollingPager','TimelineConstants','TimelineLegacySections','TimelineScrubberKey','UIPagelet'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();function q(r,s,t,u,v){'use strict';this.$TimelineSection1=r;this.$TimelineSection2=u;this.$TimelineSection3=s;this.$TimelineSection4=null;this.$TimelineSection5=null;this.$TimelineSection6=true;this.$TimelineSection7=true;this.$TimelineSection8=s!==o.RECENT_ACTIVITY;this.$TimelineSection9=v;this.$TimelineSection10=t;this.$TimelineSection11={};this.$TimelineSection12=false;this.$TimelineSection13=[];this.$TimelineSection14=false;}q.prototype.load=function(r,s){'use strict';if(this.$TimelineSection2){this.activateContentScrollLoad();return;}var t=this.$TimelineSection10;h.inform(m.SECTION_LOADING,{data:t,scrubberKey:this.$TimelineSection3});this.$TimelineSection2=true;i.removeClass(this.$TimelineSection1,'fbTimelineTimePeriodUnexpanded');i.removeClass(this.$TimelineSection1,'fbTimelineTimePeriodSuppressed');var u=n.shouldForceNoFriendActivity();t=babelHelpers._extends({},t,{highlight_unit_data:r,parent_key:this.$TimelineSection4,force_no_friend_activity:u});i.addClass(this.$TimelineSection1,'fbTimelineSectionLoading');this.$TimelineSection6=false;this.activateContentScrollLoad();if(s){this.$TimelineSection1.style.minHeight=window.innerHeight+'px';h.subscribeOnce(m.SECTION_FULLY_LOADED,(function(v,w){if(w.scrubberKey===this.$TimelineSection3){this.$TimelineSection1.style.minHeight='';n.destroyOnVisible(this.$TimelineSection3);}}).bind(this));}n.addLoadPagelet(this.$TimelineSection3,p.loadFromEndpoint('ProfileTimelineSectionPagelet',this.$TimelineSection1.id,t,{usePipe:true,jsNonblock:true,constHeight:true,append:false}));n.collapsePlaceHolderHeaders();};q.prototype.preload=function(){'use strict';i.addClass(this.$TimelineSection1,'fbTimelineTimePeriodSuppressed');i.removeClass(this.$TimelineSection1,'fbTimelineTimePeriodUnexpanded');var r=j.find(this.$TimelineSection1,'span.sectionLabel');if(r.getAttribute('data-original-label')){j.setContent(r,r.getAttribute('data-original-label'));r.removeAttribute('data-original-label');}};q.prototype.unload=function(){'use strict';if(!this.$TimelineSection2||!this.$TimelineSection8)return;this.$TimelineSection2=false;n.cancelLoadPagelet(this.$TimelineSection3);i.addClass(this.$TimelineSection1,'fbTimelineTimePeriodUnexpanded');i.removeClass(this.$TimelineSection1,'fbTimelineTimePeriodSuppressed');if(this.$TimelineSection1.nextSibling&&i.hasClass(this.$TimelineSection1.nextSibling,'fbTimelineSection')){j.setContent(this.$TimelineSection1,this.$TimelineSection1.nextSibling);i.show(this.$TimelineSection1.firstChild);}else j.empty(this.$TimelineSection1);this.deactivateScrollLoad();};q.prototype.canScrollLoad=function(){'use strict';return this.$TimelineSection6;};q.prototype.activateScrollLoad=function(){'use strict';this.$TimelineSection6=true;i.removeClass(this.$TimelineSection1,'fbTimelineTimePeriodSuppressed');i.addClass(this.$TimelineSection1,'fbTimelineTimePeriodUnexpanded');var r=n.getOnVisible(this.$TimelineSection3);if(r)r.reset();return this;};q.prototype.deactivateScrollLoad=function(){'use strict';if(!this.$TimelineSection2){this.$TimelineSection6=false;i.removeClass(this.$TimelineSection1,'fbTimelineTimePeriodUnexpanded');i.addClass(this.$TimelineSection1,'fbTimelineTimePeriodSuppressed');var r=n.getOnVisible(this.$TimelineSection3);if(r)r.remove();}j.scry(this.$TimelineSection1,'.fbTimelineSectionExpandPager').forEach(function(s){var t=l.getInstance(s.id);t&&t.removeOnVisible();var u=k.byClass(s,'stat_elem');if(u)i.removeClass(u,'async_saving');});return this;};q.prototype.canContentScrollLoad=function(){'use strict';return this.$TimelineSection7;};q.prototype.activateContentScrollLoad=function(){'use strict';this.$TimelineSection7=true;return this;};q.prototype.deactivateContentScrollLoad=function(){'use strict';this.$TimelineSection7=false;return this;};q.prototype.getNode=function(){'use strict';return this.$TimelineSection1;};q.prototype.getScrubberKey=function(){'use strict';return this.$TimelineSection3;};q.prototype.getParentKey=function(){'use strict';return this.$TimelineSection4;};q.prototype.setParentKey=function(r){'use strict';this.$TimelineSection4=r;return this;};q.prototype.addSubSection=function(r,s){'use strict';if(!Array.isArray(this.$TimelineSection5))this.$TimelineSection5=[];if(Array.isArray(this.$TimelineSection5))this.$TimelineSection5[r]=s;return this;};q.prototype.getSubSections=function(){'use strict';return this.$TimelineSection5;};q.prototype.isLoaded=function(){'use strict';return this.$TimelineSection2;};q.prototype.isRightColumnFinished=function(){'use strict';return this.$TimelineSection12;};q.prototype.setRightColumnFinished=function(){'use strict';this.$TimelineSection12=true;return this;};q.prototype.getHistoricUnitCount=function(){'use strict';return this.$TimelineSection9;};q.prototype.setExpandLoadData=function(r){'use strict';this.$TimelineSection11=r;return this;};q.prototype.expand=function(r){'use strict';if(!this.$TimelineSection2)return this;var s=j.find(this.$TimelineSection1,'.fbTimelineSectionExpander');i.addClass(s.firstChild,'async_saving');r&&i.addClass(r,'async_saving');h.inform(m.SECTION_EXPAND,this.$TimelineSection3);j.scry(this.$TimelineSection1,'.fbTimelineCapsule').forEach(j.remove);this.$TimelineSection11.new_expand=true;n.cancelLoadPagelet(this.$TimelineSection3);n.addLoadPagelet(this.$TimelineSection3,p.loadFromEndpoint('ProfileTimelineSectionPagelet',s.id,this.$TimelineSection11,{usePipe:true,jsNonblock:true,constHeight:true}));return this;};q.prototype.isPermalinkPeriod=function(){'use strict';return !!this.$TimelineSection10.is_permalink_period;};q.prototype.isHidden=function(){'use strict';return this.$TimelineSection14;};q.prototype.hide=function(){'use strict';this.$TimelineSection14=true;i.hide(j.find(this.$TimelineSection1,'.fbTimelineSection'));return this;};q.prototype.isHiddenFromView=function(){'use strict';return (!this.$TimelineSection2||this.$TimelineSection14||i.hasClass(this.$TimelineSection1,'fbTimelineTimePeriodUnexpanded'));};q.prototype.hasPendingCallbacks=function(){'use strict';return this.$TimelineSection13.length>0;};q.prototype.queueDisplayCallback=function(r,s){'use strict';this.$TimelineSection13[r]=s;return this;};q.prototype.runPendingDisplayCallbacks=function(){'use strict';while(this.hasPendingCallbacks()){var r=this.$TimelineSection13.shift();if(r)r();}return this;};f.exports=q;},null);
__d('TimelineSmartInsert',['Run','UserAgent_DEPRECATED','Vector'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=100;function l(r){if(r==='viewport')return j.getViewportDimensions().y;return r;}var m=false,n=false;function o(){if(n)return;h.onLeave(p);n=true;}function p(){m=false;n=false;}var q={run:function(r,s,t){o();if(!m||i.ie()<=8){s();return;}var u=r.offsetHeight;s();var v=r.offsetHeight,w=j.getScrollPosition().y,x=j.getElementPosition(r).y;if(v!==u&&x<w&&x+u<w+l(t||k))window.scrollBy(0,v-u);},enable:function(){m=true;}};f.exports=q;},null);
__d('TimelineContentLoader',['Arbiter','CSS','DOM','DOMScroll','Event','OnVisible','Parent','ProfileTimelineUILogger','ScrollingPager','TimelineComponentKeys','TimelineConstants','TimelineController','TimelineDOMID','TimelineGating','TimelineLegacySections','TimelineScrubberKey','TimelineSection','TimelineSmartInsert','Vector','$','arrayContains','createArrayFromMixed','csx','debounce','ge','queryThenMutateDOM','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){if(c.__markCompiled)c.__markCompiled();var ia=false,ja=null,ka={},la={},ma=[],na={},oa=null,pa=null,qa=80,ra=250,sa=500;function ta(){if(ia)return;s.register(q.CONTENT,za);pa=h.subscribe(r.SECTION_EXPAND,function(ab,bb){za.navigateToSection(bb);});ia=true;}var ua=ea(function(ab,bb,cb){var db=v.get(ab).getHistoricUnitCount();bb-=db;cb-=1;if(db==-1||cb<=0||bb<0)return;var eb=za.getNextSectionKey(ab);if(eb){v.get(eb).load();ua(eb,bb,cb);}},sa);function va(ab,bb){if(!bb)bb=0;if(bb<qa&&!ab())setTimeout(va.bind(null,ab,bb+1),ra);}function wa(ab){va(function(){if(ab===w.WAY_BACK)return true;var bb=za.getNextSectionKey(ab);if(bb){ya(bb);return true;}return false;});}function xa(ab,bb,cb){va(function(){if(bb===w.WAY_BACK)return true;var db=za.getNextSectionKey(bb);if(db){v.addOnVisible(db,new m(ab,ya.bind(null,db),false,cb||1000));return true;}return false;});}function ya(ab){var bb=v.get(ab);if(bb&&bb.canScrollLoad()){bb.load();if(oa)ua(ab,oa.required_units,oa.max_parallelism);}}var za={CURRENT_SECTION_OFFSET:150,registerTimePeriod:function(ab,bb,cb,db,eb,fb,gb){ta();if(ba(ma,bb))return;if(la)Object.assign(cb||{},la);var hb=new x(ab,bb,cb,db,gb);if(!eb){v.setMainSectionOrder(bb,fb);ka[bb]=true;}else{hb.setParentKey(eb);var ib=v.get(eb);if(ib)ib.addSubSection(fb,hb);}v.set(bb,hb);za.checkCurrentSectionChange();h.inform(r.SECTION_REGISTERED,{scrubberKey:bb,section:hb});},reset:function(){v.removeAllOnVisibles();v.cancelLoadPagelets();for(var ab in na){na[ab].unsubscribe();delete na[ab];}pa&&pa.unsubscribe();pa=null;v.removeAll();ja=null;ka={};la={};ma=[];ia=false;},checkCurrentSectionChange:function(){var ab=null;ga(function(){ab=za.getCurrentSection();},function(){var bb=ja&&ja.getScrubberKey();if(ab&&ab.getScrubberKey()!==bb&&!ab.isPermalinkPeriod()){ja=ab;var cb=ab.getScrubberKey(),db=ab.getParentKey();if(!db){db=cb;cb=null;}s.sectionHasChanged(db,cb);}});},setParallelLoadConfig:function(ab){oa=ab;},getCurrentSection:function(){var ab={},bb=v.getAll();for(var cb in bb){var db=bb[cb];if(!db||db.isHiddenFromView())continue;var eb=z.getElementPosition(db.getNode(),'viewport').y;if(db.getScrubberKey()===w.RECENT_ACTIVITY)eb--;if(eb<za.CURRENT_SECTION_OFFSET)ab[eb]=db;}var fb=Math.max.apply(null,Object.keys(ab)),gb=v.getMainSectionOrder(),hb=fb==-Infinity;if(!hb){return ab[fb];}else if(gb[0])return v.get(gb[0]);return null;},getLastVisibleSection:function(){var ab=v.getMainSectionOrder();for(var bb=ab.length-1;bb>=0;bb--){var cb=v.get(ab[bb]);if(cb&&!cb.isHiddenFromView())return cb;}return null;},getRecentActivitySection:function(){return v.get(w.RECENT_ACTIVITY);},capsuleForCurrentSection:function(){var ab=za.getCurrentSection();return ab&&j.scry(ab.getNode(),'.fbTimelineCapsule')[0];},enableScrollLoad:function(ab,bb,cb,db){ab=aa(ab);var eb=n.byClass(ab,'fbTimelineSection')||ab.parentNode,fb=eb&&j.scry(eb,'.fbTimelineCapsule')[0];if(!fb)return;if(cb===null){xa(ab,bb,db);}else s.runOnceWhenSectionFullyLoaded(xa.bind(null,ab,bb,db),bb,cb);},expandSectionOnClick:function(ab,bb){l.listen(ab,'click',function(cb){cb.prevent();v.get(bb).expand();});},expandSubSectionsOnClick:function(ab,bb){l.listen(ab,'click',function(cb){cb.prevent();o.logSectionExpanderClick(bb);v.cancelLoadPagelet(bb);var db=v.get(bb),eb=db.getSubSections();if(eb&&eb.length)za.navigateToSection(eb[0].getScrubberKey());});},getNextSectionKey:function(ab){var bb=v.getMainSectionOrder();for(var cb=0;cb<bb.length-1;cb++)if(bb[cb]==ab){while(cb<bb.length-1&&!bb[cb+1])cb++;return bb[cb+1];}var db=v.get(ab);if(!db||!db.getParentKey())return;var eb=v.get(db.getParentKey());if(!eb)return;var fb=eb.getSubSections(),gb=fb[fb.length-1];if(db.getScrubberKey()===gb.getScrubberKey())return za.getNextSectionKey(db.getParentKey());for(var hb=0;hb<fb.length-1;hb++)if(fb[hb].getScrubberKey()==ab)return fb[hb+1].getScrubberKey();},hideSection:function(ab){var bb=v.get(ab);if(bb)bb.hide();var cb=s.getCurrentScrubber();if(cb){var db=null;if(!ka[ab]){db=s.getCurrentScrubber().getSubnav(bb.getParentKey(),ab);}else db=s.getCurrentScrubber().getNav(ab);db&&i.hide(db);}var eb=s.getCurrentStickyHeaderNav();eb&&eb.removeTimePeriod(ab);},loadSectionOnClick:function(ab,bb){l.listen(ab,'click',function(cb){cb.prevent();v.get(bb).load();});},removeSection:function(ab){v.removeOnVisible(ab);v.remove(ab);delete ka[ab];var bb=s.getCurrentStickyHeaderNav();bb&&bb.removeTimePeriod(ab);ma.push(ab);},removeSectionParent:function(ab){j.remove(aa(ab).parentNode);},navigateToSection:function(ab,bb,cb){bb=!!bb;var db=ab,eb=v.get(ab);if(!eb)return;if(!eb.isLoaded()){y.enable();j.scry(aa(t.TAB_CONTENT),'.fbTimelineShowOlderSections').forEach(j.remove);}if(!ka[ab]){if(!eb.isLoaded())eb.getNode().style.minHeight=z.getViewportDimensions().y+'px';var fb=h.subscribe(r.SECTION_FULLY_LOADED,function(pb,qb){if(qb.scrubberKey===ab){eb.getNode().style.minHeight='';fb.unsubscribe();}});db=eb.getParentKey();var gb=v.get(db);if(gb){var hb=gb.getNode();if(!i.hasClass(hb,'fbTimelineSectionExpanded')){k.scrollTo(hb,0);i.addClass(hb,'fbTimelineSectionExpanded');j.scry(hb,'.fbTimelineCapsule').forEach(j.remove);j.scry(hb,'div.fbTimelineSectionExpandPager').forEach(j.remove);j.scry(hb,'div.fbTimelineContentHeader').forEach(j.remove);j.scry(hb,"._5vf").forEach(function(pb){if(!pb.getAttribute('data-subsection'))j.remove(pb);});}}var ib=za.getNextSectionKey(db),jb=v.getOnVisible(ib);if(jb)jb.setBuffer(0);}var kb=v.getMainSectionOrder();for(var lb=0;lb<kb.length;lb++){var mb=kb[lb];if(!mb)continue;if(mb==db)break;v.get(mb).deactivateScrollLoad().deactivateContentScrollLoad();}eb.load(cb,true);v.collapsePlaceHolderHeaders();var nb=z.getScrollPosition().x,ob=z.getElementPosition(eb.getNode()).y;if(!bb)k.scrollTo(new z(nb,ob-r.SCROLL_TO_OFFSET,'document'),!u.noScrollAnimation,false,false,0,function(){var pb=z.getElementPosition(eb.getNode()).y;k.scrollTo(new z(nb,pb-r.SCROLL_TO_OFFSET,'document'),false);if(ab!==w.RECENT_ACTIVITY){var qb=j.scry(eb.getNode(),'h3.uiHeaderTitle')[0];if(qb){qb.tabIndex=0;qb.focus();}}});},appendContentAfterLoad:function(ab,bb,cb){s.runOnceWhenSectionFullyLoaded(j.appendContent.bind(null,aa(ab),bb),cb,'0');},markSectionAsLoaded:function(ab,bb,cb){s.runOnceWhenSectionFullyLoaded(function(){fa(ab)&&i.removeClass(aa(ab).parentNode,'fbTimelineSectionLoading');},bb,cb);},scrollToTimeline:function(ab,bb){s.runOnceWhenSectionFullyLoaded(function(){var cb=aa('fbTimelineHeadline');ha(function(){k.scrollTo(cb);});},ab,bb);},suppressSectionsAbove:function(ab){var bb,cb,db=v.getMainSectionOrder();for(var eb=0;eb<db.length;eb++){var fb=db[eb];if(!fb)continue;bb=v.get(fb).getNode();cb=null;if(ca(ab.parentNode.children).indexOf(ab)<=ca(bb.parentNode.children).indexOf(bb)){cb=fb;break;}v.get(fb).deactivateScrollLoad();}if(cb)za.navigateToSection(cb,true);},forceNoFriendActivity:function(){v.forceNoFriendActivity();},removeDupes:function(ab){var bb=fa(ab);if(!bb)return;var cb=j.scry(bb,'li.fbTimelineUnit'),db={};for(var eb=0;eb<cb.length;eb++){var fb=cb[eb];if(fb.id&&fb.id.startsWith('tl_unit_')){var gb=fb.id.substring(8,fb.id.length),hb=j.scry(fb,'div.timelineUnitContainer');if(hb.length>0)gb=gb+hb[0].getAttribute('data-time');if(db.hasOwnProperty(gb)){fb.id='dupe_unit_'+Math.random();fb.className="hidden_elem";}else db[gb]=1;}}},removeLoadingState:function(ab){fa(ab)&&i.removeClass(aa(ab),'fbTimelineSectionLoading');},setExpandLoadDataForSection:function(ab,bb){var cb=v.get(ab);cb&&cb.setExpandLoadData(bb);},updatePagerAfterLoad:function(ab,bb,cb,db,eb){var fb=p.getInstance(ab.firstChild.id);if(!fb){na[ab.firstChild.id]=h.subscribe(p.REGISTERED,function(hb,ib){na[ab.firstChild.id].unsubscribe();delete na[ab.firstChild.id];if(ib.id===ab.firstChild.id)za.updatePagerAfterLoad(ab,bb,cb,db,eb);});return;}var gb=fb.getHandler();fb.setHandler(function(hb){i.addClass(ab,'async_saving');gb(hb);});s.runOnceWhenSectionFullyLoaded(function(){i.removeClass(ab,'fbTimelineHiddenPager');fb.checkBuffer();},cb,db);if(eb)s.runOnceWhenSectionFullyLoaded(s.adjustScrollingPagerBuffer.bind(null,ab.firstChild.id,cb),cb,db);},repositionDialog:function(ab){h.subscribe(r.SECTION_LOADED,function(){ab.updatePosition();});},rightColumnFinished:function(ab){var bb=v.get(ab);bb.setRightColumnFinished();},loadNextSection:function(ab){wa(ab);}};f.exports=za;},null);